(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{41:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(33),r=n.n(s),o=(n(41),n(24)),i=n(34),l=n(13),u=n(9),b=n(10),d=n(11),j=n(12),h=n(21),p=n.n(h),O=n(4),m=n(2),x=n(22),g=n.n(x),f=n(0),v=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"getAccountBalance",value:function(){return console.log("AccountBalance accountBalance: "+this.props.accountBalance),this.props.accountBalance.toFixed(2)}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:["Balance: ",this.getAccountBalance()]})}}]),n}(c.Component),B=v,k=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:"https://picsum.photos/200/200",alt:"bank"}),Object(f.jsx)("h1",{children:"Bank of React"}),Object(f.jsx)(O.b,{to:"/userProfile",children:"User Profile"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.b,{to:"/login",children:"Login"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.b,{to:"/credits",children:"Credits"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.b,{to:"/debits",children:"Debits"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(B,{accountBalance:this.props.accountBalance})]})}}]),n}(c.Component),S=k,y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"User Profile"}),Object(f.jsxs)("div",{children:["Username: ",this.props.userName]}),Object(f.jsxs)("div",{children:["Member Since: ",this.props.memberSince]}),Object(f.jsx)("br",{}),Object(f.jsx)(O.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),C=y,D=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=Object(l.a)({},e.state.user),c=t.target.name,a=t.target.value;n[c]=a,e.setState({user:n})},e.handleSubmit=function(t){t.preventDefault(),e.props.mockLogIn(e.state.user),e.setState({redirect:!0})},e.state={user:{userName:"",password:""},redirect:!1},e}return Object(b.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(f.jsx)(m.a,{to:"/userProfile"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(f.jsx)("input",{type:"text",name:"userName",onChange:this.handleChange,value:this.state.user.userName})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password"})]}),Object(f.jsx)("button",{children:"Log In"})]})]})}}]),n}(c.Component),F=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Credits"}),e.credits.map((function(e){var t=e.date.slice(0,10);return Object(f.jsxs)("li",{children:[e.amount," ",e.description," ",t]},e.id)})),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.elements.amount.value,c=t.target.elements.description.value;console.log("+++ Amount: "+n),console.log("+++ Description: "+c),console.log("+++ Credits length before: "+e.credits.length),console.log("+++ accountBalance before: "+e.accountBalance);var a=(new Date).toISOString().split("T")[0];e.addCreditClicked({id:Math.floor(1e4*Math.random()),description:c,amount:n,date:a}),console.log("Credits length after: "+e.credits.length),console.log("accountBalance after: "+e.accountBalance)},children:[Object(f.jsx)("label",{children:"Description"}),Object(f.jsx)("input",{type:"text",name:"description"}),Object(f.jsx)("label",{children:"Amount"}),Object(f.jsx)("input",{type:"number",name:"amount"}),Object(f.jsx)("button",{type:"submit",children:"Add Credit"})]}),Object(f.jsx)(B,{accountBalance:e.accountBalance}),Object(f.jsx)(O.b,{to:"/",children:"Return to Home"})]})},A=function(e){console.log("props.Debits in Debits: "+e.debits.length),console.log("props.accountBalance in Debits: "+e.accountBalance);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Debits"}),e.debits.map((function(e){var t=e.date.slice(0,10);return Object(f.jsxs)("li",{children:[e.amount," ",e.description," ",t]},e.id)})),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.elements.amount.value,c=t.target.elements.description.value;console.log("+++ Amount: "+n),console.log("+++ Description: "+c),console.log("+++ Debits length before: "+e.debits.length),console.log("+++ accountBalance before: "+e.accountBalance);var a=(new Date).toISOString().split("T")[0];e.addDebitClicked({id:Math.floor(1e4*Math.random()),description:c,amount:n,date:a}),console.log("Debits length after: "+e.debits.length),console.log("accountBalance after: "+e.accountBalance)},children:[Object(f.jsx)("label",{children:"Description"}),Object(f.jsx)("input",{type:"text",name:"description"}),Object(f.jsx)("label",{children:"Amount"}),Object(f.jsx)("input",{type:"number",name:"amount"}),Object(f.jsx)("button",{type:"submit",children:"Add Debit"})]}),Object(f.jsx)(B,{accountBalance:e.accountBalance}),Object(f.jsx)(O.b,{to:"/",children:"Return to Home"})]})},N=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).mockLogIn=function(t){var n=Object(l.a)({},e.state.currentUser);n.userName=t.userName,e.setState({currentUser:n})},e.state={accountBalance:0,currentUser:{userName:"Joe Smith",memberSince:"11/22/99"},credits:[],debits:[]},e}return Object(b.a)(n,[{key:"addDebit",value:function(e){console.log("Subtracting "+JSON.stringify(e));var t=Object(l.a)(Object(l.a)({},this.state),{},{debits:this.state.debits.concat(e)});t.accountBalance=t.accountBalance-parseFloat(e.amount),this.setState(t)}},{key:"addCredit",value:function(e){console.log("Adding "+parseFloat(e.amount)),console.log(" ---- to "+JSON.stringify(this.state.accountBalance));var t=Object(l.a)(Object(l.a)({},this.state),{},{credits:this.state.credits.concat(e)});t.accountBalance=t.accountBalance+parseFloat(e.amount),this.setState(t)}},{key:"componentDidMount",value:function(){var e=Object(i.a)(p.a.mark((function e(){var t,n,c,a,s,r,i,u,b,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.debits.length){e.next=12;break}return"https://moj-api.herokuapp.com/debits",e.prev=2,e.next=5,g.a.get("https://moj-api.herokuapp.com/debits");case 5:t=e.sent,this.setState({debits:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response;case 12:if(0!==this.state.credits.length){e.next=26;break}return"https://moj-api.herokuapp.com/credits",e.prev=14,e.next=17,g.a.get("https://moj-api.herokuapp.com/credits");case 17:n=e.sent,console.log("Resp Credits: "+n),this.setState({credits:n.data}),console.log("CREDITS: "+this.state.credits),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),e.t1.response&&(console.log(e.t1.response.data),console.log(e.t1.response.status));case 26:console.log("AccountBalance before adding debits: "+this.state.accountBalance),c=Object(o.a)(this.state.debits);try{for(c.s();!(a=c.n()).done;)s=a.value,console.log("Subtracting "+parseFloat(s.amount)+" from "+this.state.accountBalance),(r=Object(l.a)({},this.state)).accountBalance=r.accountBalance-parseFloat(s.amount),this.setState(r)}catch(j){c.e(j)}finally{c.f()}console.log("AccountBalance AFTER adding debits: "+this.state.accountBalance),i=Object(o.a)(this.state.credits);try{for(i.s();!(u=i.n()).done;)b=u.value,console.log("Adding "+parseFloat(b.amount)+" to "+this.state.accountBalance),(d=Object(l.a)({},this.state)).accountBalance=d.accountBalance+parseFloat(b.amount),this.setState(d)}catch(j){i.e(j)}finally{i.f()}console.log("accountBalance: "+this.state.accountBalance);case 33:case"end":return e.stop()}}),e,this,[[2,9],[14,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsx)(O.a,{basename:"/react-gh-pages",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(S,{totalDebits:e.state.totalDebits,accountBalance:e.state.accountBalance})}}),Object(f.jsx)(m.b,{exact:!0,path:"/userProfile",render:function(){return Object(f.jsx)(C,{userName:e.state.currentUser.userName,memberSince:e.state.currentUser.memberSince})}}),Object(f.jsx)(m.b,{exact:!0,path:"/login",render:function(){return Object(f.jsx)(D,{user:e.state.currentUser,mockLogIn:e.mockLogIn})}}),Object(f.jsx)(m.b,{exact:!0,path:"/credits",render:function(){return Object(f.jsx)(F,{addCreditClicked:e.addCredit.bind(e),credits:e.state.credits,accountBalance:e.state.accountBalance})}}),Object(f.jsx)(m.b,{exact:!0,path:"/debits",render:function(){return Object(f.jsx)(A,{addDebitClicked:e.addDebit.bind(e),debits:e.state.debits,accountBalance:e.state.accountBalance})}})]})})}}]),n}(c.Component),w=N,I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root")),I()}},[[70,1,2]]]);
//# sourceMappingURL=main.2f114ad0.chunk.js.map